@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light dark;
}

body {
  @apply bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100;
  font-family: "Roboto", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

#root {
  min-height: 100vh;
}

.reveal-out {
  opacity: 0;
  transform: translateY(18px) scale(0.985);
  filter: blur(10px);
  transition: opacity 700ms ease, transform 700ms ease, filter 700ms ease;
}

.reveal-in {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
  transition: opacity 700ms ease, transform 700ms ease, filter 700ms ease;
}

@media (prefers-reduced-motion: reduce) {
  .reveal-out,
  .reveal-in {
    transition: none !important;
    transform: none !important;
    filter: none !important;
    opacity: 1 !important;
  }
}


.confirm-overlay {
  position: fixed;
  inset: 0;
  z-index: 60;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding: 8vh 16px 24px;
  background: rgba(2, 6, 23, 0.55);
  backdrop-filter: blur(4px);
  animation: confirm-fade 140ms ease-out;
}

.confirm-panel {
  width: min(520px, 100%);
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.25);
  background: #ffffff;
  padding: 18px 20px;
  box-shadow: 0 18px 40px rgba(15, 23, 42, 0.18);
  animation: confirm-drop 220ms ease-out;
}

.dark .confirm-panel {
  border-color: rgba(148, 163, 184, 0.25);
  background: rgba(15, 23, 42, 0.95);
  box-shadow: 0 18px 40px rgba(2, 6, 23, 0.45);
}

@keyframes confirm-drop {
  from {
    opacity: 0;
    transform: translateY(-18px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes confirm-fade {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes drag-hand-move {
  0%,
  20% {
    transform: translateX(0);
  }
  55%,
  70% {
    transform: translateX(-64px);
  }
  100% {
    transform: translateX(0);
  }
}

@keyframes drag-tile-move {
  0%,
  20% {
    transform: translateX(0);
  }
  55%,
  70% {
    transform: translateX(-44px);
  }
  100% {
    transform: translateX(0);
  }
}

@keyframes drag-hand-open {
  0%,
  20%,
  100% {
    opacity: 1;
  }
  35%,
  80% {
    opacity: 0;
  }
}

@keyframes drag-hand-closed {
  0%,
  20%,
  100% {
    opacity: 0;
  }
  35%,
  80% {
    opacity: 1;
  }
}

.drag-hint {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.drag-hint-overlay {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  pointer-events: none;
  opacity: 0.85;
}

.drag-hint-rail {
  position: relative;
  width: 160px;
  height: 44px;
}

.drag-hint-tile {
  position: absolute;
  left: 98px;
  top: 14px;
  width: 28px;
  height: 18px;
  border-radius: 8px;
  border: 1px solid rgba(148, 163, 184, 0.55);
  background: rgba(15, 23, 42, 0.7);
  animation: drag-tile-move 1.8s ease-in-out infinite;
}

.drag-hint-hand {
  position: absolute;
  left: 112px;
  top: -2px;
  animation: drag-hand-move 1.8s ease-in-out infinite;
}

.drag-hint-hand-icon {
  width: 40px;
  height: 40px;
  filter: invert(1) drop-shadow(0 3px 8px rgba(0, 0, 0, 0.35));
  opacity: 0.95;
}

.drag-hint-hand-open {
  animation: drag-hand-open 1.8s ease-in-out infinite;
}

.drag-hint-hand-closed {
  position: absolute;
  left: 0;
  top: 0;
  animation: drag-hand-closed 1.8s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
  .confirm-overlay,
  .confirm-panel,
  .drag-hint,
  .drag-hint-hand,
  .drag-hint-tile {
    animation: none;
  }
}
